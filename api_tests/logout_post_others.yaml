# Test generated by RoostGPT for test credential-wallet-api using AI Type Open AI and AI Model gpt-4-1106-preview

# RoostTestHash=64d33906e5

config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 1
  payload:
    - path: "logout_post_others.csv"
      fields:
        - "payloadVariable1"
        - "payloadVariable2"
      skipHeader: true
  defaults:
    headers:
      Content-Type: 'application/json'
  plugins:
    expect: {}

scenarios:
  - name: "Logout API error handling scenario"
    flow:
      # Test: Invalid Authorization Token
      - post:
          url: "/logout"
          headers:
            Authorization: "InvalidAuthToken" # Using invalid auth token for failure test case
          log: "Sending request with invalid authorization token"
      - think: 1
      - expect:
          statusCode: 401
          headers:
            "api-version": "{{ $processEnvironment.API_VERSION }}"
      # Test: Payload missing required fields
      - post:
          url: "/logout"
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          json: {}
          log: "Sending request with payload missing required fields"
      - think: 1
      - expect:
          statusCode: 400
          headers:
            "api-version": "{{ $processEnvironment.API_VERSION }}"
      # Test: Sending payload with incorrect data formats
      - post:
          url: "/logout"
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          json:
            payloadVariable1: 123 # Assuming this is supposed to be a string as per spec
            payloadVariable2: "random_string"
          log: "Sending request with incorrect data formats in payload"
      - think: 1
      - expect:
          statusCode: 400
          headers:
            "api-version": "{{ $processEnvironment.API_VERSION }}"
      # Test: Invalid HTTP method
      - get:
          url: "/logout"
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          log: "Sending request with invalid HTTP method"
      - think: 1
      - expect:
          statusCode: 405
      # Test: Validation failure with invalid URL
      - post:
          url: "/logoutInvalidURL" # Invalid URL for failure test case
          headers:
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
          json:
            payloadVariable1: "valid_data"
          log: "Sending request to an invalid URL"
      - think: 1
      - expect:
          statusCode: 404
          headers:
            "api-version": "{{ $processEnvironment.API_VERSION }}"

