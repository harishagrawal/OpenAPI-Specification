# Test generated by RoostGPT for test credential-wallet-api using AI Type Open AI and AI Model gpt-4-1106-preview

# RoostTestHash=64d33906e5

config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 1
  payload:
    path: "logout_post_others.csv"
    fields:
      - "apiKey"
    skipHeader: true
  defaults:
    headers:
      'Content-Type': 'application/json'
  plugins:
    expect: {}
scenarios:
  - name: "Scenario: Test /logout API for various failure cases"
    flow:
      - log: "Testing logout with missing authorization header"
      - post:
          headers:
            'api-version': '1.0.0'
          url: "/logout"
          expect:
            - statusCode: 401 # Assuming 401 is used for Unauthorized access when ApiKeyAuth is missing
            - hasProperty: 'error'
            - hasProperty: 'description'

      - think: 1

      - log: "Testing logout with invalid authorization token"
      - post:
          headers:
            'api-version': '1.0.0'
            'Authorization': "Invalid {{ $processEnvironment.AUTH_TOKEN }}"
          url: "/logout"
          expect:
            - statusCode: 403 # Assuming 403 is used for Forbidden when the ApiKeyAuth token is invalid
            - hasProperty: 'error'
            - hasProperty: 'description'

      - think: 1

      - log: "Testing logout with invalid URL endpoint, resulting in a 404 Not Found"
      - post:
          headers:
            'api-version': '1.0.0'
            'Authorization': "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
          url: "/logout-invalid" # Invalid URL test case
          expect:
            - statusCode: 404 # The standard code for Not Found when the URL is wrong
            - hasProperty: 'error'
            - hasProperty: 'description'

      - think: 1

      - log: "Testing logout with invalid request payload, triggering a 400 Bad Request"
      - post:
          headers:
            'api-version': '1.0.0'
            'Authorization': "Bearer {{ $processEnvironment.AUTH_TOKEN }}"
          url: "/logout"
          json:
            non_existent_field: "value" # Invalid field that is not in the spec
          expect:
            - statusCode: 400 # The standard code for Bad Request when payload is wrong
            - hasProperty: 'error'
            - hasProperty: 'description'

