# Test generated by RoostGPT for test mixtral-8x-api using AI Type Open Source AI and AI Model meta-llama/Llama-2-13b-chat


# Test generated for /products/{productId}_get for http method type GET in artillery framework

# RoostTestHash=ab8efa24ed


config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 30
      arrivalRate: 10
  plugins:
    expect:
      enabled: true
  variables:
    headers:
      Content-Type: "application/json"
    payload:
      productId: "{{ productId }}"
      name: "{{ name }}"
      description: "{{ description }}"
      price: "{{ price }}"
  csv:
    products_productId_get_success.csv:
      skipHeader: true
      fields:
        - productId
        - name
        - description
        - price

scenarios:
  - flow:
      - get:
          url: "/products/{{ productId }}"
          headers:
            Authorization: "Bearer {{$processEnvironment.AUTH_TOKEN}}"
          thinkTime: 1s
          expect:
            - statusCode: 200
            - contentType: "application/json"
            - hasProperty: "id"
            - hasProperty: "name"
            - hasProperty: "description"
            - hasProperty: "price"
      - post:
          url: "/products"
          headers:
            Authorization: "Bearer {{$processEnvironment.AUTH_TOKEN}}"
          json:
            name: "{{ name }}"
            description: "{{ description }}"
            price: "{{ price }}"
          thinkTime: 1s
          expect:
            - statusCode: 200
            - contentType: "application/json"
            - hasProperty: "id"
            - hasProperty: "name"
            - hasProperty: "description"
            - hasProperty: "price"
      - patch:
          url: "/products/{{ productId }}"
          headers:
            Authorization: "Bearer {{$processEnvironment.AUTH_TOKEN}}"
          json:
            name: "{{ name }}"
            description: "{{ description }}"
            price: "{{ price }}"
          thinkTime: 1s
          expect:
            - statusCode: 200
            - contentType: "application/json"
            - hasProperty: "id"
            - hasProperty: "name"
            - hasProperty: "description"
            - hasProperty: "price"
      - delete:
          url: "/products/{{ productId }}"
          headers:
            Authorization: "Bearer {{$processEnvironment.AUTH_TOKEN}}"
          thinkTime: 1s
          expect:
            - statusCode: 200
            - contentType: "application/json"
