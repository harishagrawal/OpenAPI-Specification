# Test generated by RoostGPT for test credential-wallet-api using AI Type Open AI and AI Model gpt-4-1106-preview

# RoostTestHash=f1fc1d06f7

config:
  target: "{{ $processEnvironment.API_HOST }}"
  phases:
    - duration: 60
      arrivalRate: 1
  payload:
    path: "/mnt/data/credentials_id_delete_others.csv"
    fields:
      - "id"
    skipHeader: true
  plugins:
    expect: {}

scenarios:
  - name: "Delete Credential - Failure and Edge Cases"
    flow:
      # Invalid ID in the path
      - log: "DELETE with Invalid UUID format in path parameter"
      - delete:
          url: "/credentials/invalid-id-format"
          headers: 
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
      - think: 1

      # Invalid header authorization token
      - log: "DELETE with invalid authorization token"
      - delete: 
          url: "/credentials/{{ id }}"
          headers: 
            Authorization: "invalid{{ $processEnvironment.AUTH_TOKEN }}"
      - expect:
          statusCode: 401
      - think: 1

      # Missing ID in the path
      - log: "DELETE without passing the UUID in the path"
      - delete:
          url: "/credentials/"
          headers: 
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
      - expect:
          statusCode: 400
      - think: 1

      # Valid ID but resource does not exist
      - log: "DELETE with valid UUID that does not exist"
      - delete:
          url: "/credentials/{{ id }}"
          headers: 
            Authorization: "{{ $processEnvironment.AUTH_TOKEN }}"
      - expect:
          statusCode: 400

